{"ast":null,"code":"import _objectSpread from\"/Users/ironman/Desktop/My/venv/my-app/Frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{useNavigate}from'react-router-dom';import'../styles/LoginSignup.css';import{signInWithGoogle,signInWithApple}from'../utils/firebase';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const LoginSignup=()=>{const navigate=useNavigate();const[isLogin,setIsLogin]=useState(true);const[formData,setFormData]=useState({email:'',password:'',name:''});const[errors,setErrors]=useState({});const[loading,setLoading]=useState(false);const validateForm=()=>{const newErrors={};if(!formData.email.trim()){newErrors.email='Email is required';}else if(!/\\S+@\\S+\\.\\S+/.test(formData.email)){newErrors.email='Email is invalid';}if(!formData.password.trim()){newErrors.password='Password is required';}else if(formData.password.length<6){newErrors.password='Password must be at least 6 characters';}if(!isLogin&&!formData.name.trim()){newErrors.name='Name is required';}setErrors(newErrors);return Object.keys(newErrors).length===0;};const handleChange=e=>{const{name,value}=e.target;setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));if(errors[name]){setErrors(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:''}));}};const handleSubmit=async e=>{e.preventDefault();if(!validateForm())return;setLoading(true);try{await new Promise(resolve=>setTimeout(resolve,1500));localStorage.setItem('userToken','dummy-token');navigate('/courses');}catch(error){setErrors(prev=>_objectSpread(_objectSpread({},prev),{},{submit:'Authentication failed. Please try again.'}));}finally{setLoading(false);}};const handleSocialLogin=provider=>{setLoading(true);setTimeout(()=>{console.log(\"\".concat(provider,\" login clicked\"));setLoading(false);},1000);};const handleGoogleLogin=async()=>{setLoading(true);try{const user=await signInWithGoogle();console.log(\"Login successful:\",user);if(user){// Store user info if needed\nlocalStorage.setItem('user',JSON.stringify(user));navigate('/courses');}}catch(error){console.error(\"Login error:\",error);let errorMessage='Google authentication failed. Please try again.';// More specific error messages\nif(error.code==='auth/popup-closed-by-user'){errorMessage='Sign-in cancelled. Please try again.';}else if(error.code==='auth/popup-blocked'){errorMessage='Pop-up blocked. Please allow pop-ups for this site.';}setErrors(prev=>_objectSpread(_objectSpread({},prev),{},{submit:errorMessage}));}finally{setLoading(false);}};const handleAppleLogin=async()=>{setLoading(true);try{const user=await signInWithApple();if(user){localStorage.setItem('user',JSON.stringify(user));navigate('/courses');}}catch(error){console.error(\"Apple login error:\",error);let errorMessage='Apple authentication failed. Please try again.';if(error.code==='auth/popup-closed-by-user'){errorMessage='Sign-in cancelled. Please try again.';}else if(error.code==='auth/popup-blocked'){errorMessage='Pop-up blocked. Please allow pop-ups for this site.';}setErrors(prev=>_objectSpread(_objectSpread({},prev),{},{submit:errorMessage}));}finally{setLoading(false);}};if(loading){return/*#__PURE__*/_jsxs(\"div\",{className:\"login-loading\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"loader\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Please wait...\"})]});}return/*#__PURE__*/_jsx(\"div\",{className:\"login-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"login-box\",children:[/*#__PURE__*/_jsx(\"h1\",{children:isLogin?'Welcome Back':'Create Account'}),/*#__PURE__*/_jsx(\"p\",{className:\"login-subtitle\",children:isLogin?'Sign in to continue your learning journey':'Join us to start learning today'}),errors.submit&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:errors.submit}),/*#__PURE__*/_jsxs(\"div\",{className:\"social-login\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"social-btn google\",onClick:handleGoogleLogin,children:\"Continue with Google\"}),/*#__PURE__*/_jsx(\"button\",{className:\"social-btn facebook\",onClick:()=>handleSocialLogin('Facebook'),children:\"Continue with Facebook\"}),/*#__PURE__*/_jsx(\"button\",{className:\"social-btn apple\",onClick:handleAppleLogin,children:\"Continue with Apple\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"divider\",children:/*#__PURE__*/_jsx(\"span\",{children:\"or continue with email\"})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"login-form\",children:[!isLogin&&/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:formData.name,onChange:handleChange,placeholder:\"Full Name\",className:errors.name?'error':''}),errors.name&&/*#__PURE__*/_jsx(\"span\",{className:\"error-text\",children:errors.name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",value:formData.email,onChange:handleChange,placeholder:\"Email Address\",className:errors.email?'error':''}),errors.email&&/*#__PURE__*/_jsx(\"span\",{className:\"error-text\",children:errors.email})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",value:formData.password,onChange:handleChange,placeholder:\"Password\",className:errors.password?'error':''}),errors.password&&/*#__PURE__*/_jsx(\"span\",{className:\"error-text\",children:errors.password})]}),isLogin&&/*#__PURE__*/_jsx(\"div\",{className:\"forgot-password\",children:/*#__PURE__*/_jsx(\"a\",{href:\"/reset-password\",children:\"Forgot Password?\"})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"submit-button\",children:isLogin?'Sign In':'Create Account'})]}),/*#__PURE__*/_jsx(\"div\",{className:\"switch-form\",children:/*#__PURE__*/_jsxs(\"p\",{children:[isLogin?\"Don't have an account? \":\"Already have an account? \",/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"switch-button\",onClick:()=>{setIsLogin(!isLogin);setFormData({email:'',password:'',name:''});setErrors({});},children:isLogin?'Sign Up':'Sign In'})]})})]})});};export default LoginSignup;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}